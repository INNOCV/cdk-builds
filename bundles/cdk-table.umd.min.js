/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/operator/takeUntil"),require("rxjs/BehaviorSubject"),require("rxjs/Subject"),require("@angular/common"),require("@angular/cdk/collections")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/operator/takeUntil","rxjs/BehaviorSubject","rxjs/Subject","@angular/common","@angular/cdk/collections"],t):t((e.ng=e.ng||{},e.ng.cdk=e.ng.cdk||{},e.ng.cdk.table=e.ng.cdk.table||{}),e.ng.core,e.Rx.Observable.prototype,e.Rx,e.Rx,e.ng.common,e.ng.cdk.collections)}(this,function(e,t,n,r,o,i,a){"use strict";function c(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e){return Error('cdk-table: Could not find column with id "'+e+'".')}function l(e){return Error('cdk-table: Duplicate column definition name provided: "'+e+'".')}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d="<ng-container cdkCellOutlet></ng-container>",f=function(){function e(e,t){this.template=e,this._differs=t}return e.prototype.ngOnChanges=function(e){var t=e.columns.currentValue||[];this._columnsDiffer||(this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t))},e.prototype.getColumnsDiff=function(){return this._columnsDiffer.diff(this.columns)},e}(),h=function(e){function n(t,n){return e.call(this,t,n)||this}return c(n,e),n.decorators=[{type:t.Directive,args:[{selector:"[cdkHeaderRowDef]",inputs:["columns: cdkHeaderRowDef"]}]}],n.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.IterableDiffers}]},n}(f),p=function(e){function n(t,n){return e.call(this,t,n)||this}return c(n,e),n.decorators=[{type:t.Directive,args:[{selector:"[cdkRowDef]",inputs:["columns: cdkRowDefColumns"]}]}],n.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.IterableDiffers}]},n}(f),m=function(){function e(t){this._viewContainer=t,e.mostRecentCellOutlet=this}return e.decorators=[{type:t.Directive,args:[{selector:"[cdkCellOutlet]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}(),y=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"cdk-header-row",template:d,host:{class:"cdk-header-row",role:"row"},changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,preserveWhitespaces:!1}]}],e.ctorParameters=function(){return[]},e}(),C=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"cdk-row",template:d,host:{class:"cdk-row",role:"row"},changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,preserveWhitespaces:!1}]}],e.ctorParameters=function(){return[]},e}(),_=function(){function e(e){this.template=e}return e.decorators=[{type:t.Directive,args:[{selector:"[cdkCellDef]"}]}],e.ctorParameters=function(){return[{type:t.TemplateRef}]},e}(),g=function(){function e(e){this.template=e}return e.decorators=[{type:t.Directive,args:[{selector:"[cdkHeaderCellDef]"}]}],e.ctorParameters=function(){return[{type:t.TemplateRef}]},e}(),w=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-")},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Directive,args:[{selector:"[cdkColumnDef]"}]}],e.ctorParameters=function(){return[]},e.propDecorators={name:[{type:t.Input,args:["cdkColumnDef"]}],cell:[{type:t.ContentChild,args:[_]}],headerCell:[{type:t.ContentChild,args:[g]}]},e}(),D=function(){function e(e,t,n){n.addClass(t.nativeElement,"cdk-column-"+e.cssClassFriendlyName)}return e.decorators=[{type:t.Directive,args:[{selector:"cdk-header-cell",host:{class:"cdk-header-cell",role:"columnheader"}}]}],e.ctorParameters=function(){return[{type:w},{type:t.ElementRef},{type:t.Renderer2}]},e}(),v=function(){function e(e,t,n){n.addClass(t.nativeElement,"cdk-column-"+e.cssClassFriendlyName)}return e.decorators=[{type:t.Directive,args:[{selector:"cdk-cell",host:{class:"cdk-cell",role:"gridcell"}}]}],e.ctorParameters=function(){return[{type:w},{type:t.ElementRef},{type:t.Renderer2}]},e}(),k=function(){function e(e){this.viewContainer=e}return e.decorators=[{type:t.Directive,args:[{selector:"[rowPlaceholder]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}(),R=function(){function e(e){this.viewContainer=e}return e.decorators=[{type:t.Directive,args:[{selector:"[headerRowPlaceholder]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}(),b="\n  <ng-container headerRowPlaceholder></ng-container>\n  <ng-container rowPlaceholder></ng-container>",P=function(){function e(e,t,n,i,a){this._differs=e,this._changeDetectorRef=t,this._onDestroy=new o.Subject,this._data=[],this._columnDefinitionsByName=new Map,this.viewChange=new r.BehaviorSubject({start:0,end:Number.MAX_VALUE}),a||i.setAttribute(n.nativeElement,"role","grid")}return Object.defineProperty(e.prototype,"trackBy",{get:function(){return this._trackByFn},set:function(e){t.isDevMode()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+"."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._dataDiffer=this._differs.find([]).create(this._trackByFn)},e.prototype.ngAfterContentInit=function(){var e=this;this._cacheColumnDefinitionsByName(),this._columnDefinitions.changes.subscribe(function(){return e._cacheColumnDefinitionsByName()}),this._renderHeaderRow()},e.prototype.ngAfterContentChecked=function(){this._renderUpdatedColumns(),this.dataSource&&!this._renderChangeSubscription&&this._observeRenderChanges()},e.prototype.ngOnDestroy=function(){this._rowPlaceholder.viewContainer.clear(),this._headerRowPlaceholder.viewContainer.clear(),this._onDestroy.next(),this._onDestroy.complete(),this.dataSource&&this.dataSource.disconnect(this)},e.prototype._cacheColumnDefinitionsByName=function(){var e=this;this._columnDefinitionsByName.clear(),this._columnDefinitions.forEach(function(t){if(e._columnDefinitionsByName.has(t.name))throw l(t.name);e._columnDefinitionsByName.set(t.name,t)})},e.prototype._renderUpdatedColumns=function(){var e=this;this._rowDefinitions.forEach(function(t){t.getColumnsDiff()&&(e._dataDiffer.diff([]),e._rowPlaceholder.viewContainer.clear(),e._renderRowChanges())}),this._headerDefinition.getColumnsDiff()&&(this._headerRowPlaceholder.viewContainer.clear(),this._renderHeaderRow())},e.prototype._switchDataSource=function(e){this._data=[],this.dataSource&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||this._rowPlaceholder.viewContainer.clear(),this._dataSource=e},e.prototype._observeRenderChanges=function(){var e=this;this._renderChangeSubscription=n.takeUntil.call(this.dataSource.connect(this),this._onDestroy).subscribe(function(t){e._data=t,e._renderRowChanges()})},e.prototype._renderHeaderRow=function(){var e=this._getHeaderCellTemplatesForRow(this._headerDefinition);e.length&&(this._headerRowPlaceholder.viewContainer.createEmbeddedView(this._headerDefinition.template,{cells:e}),e.forEach(function(e){m.mostRecentCellOutlet._viewContainer.createEmbeddedView(e.template,{})}),this._changeDetectorRef.markForCheck())},e.prototype._renderRowChanges=function(){var e=this,t=this._dataDiffer.diff(this._data);if(t){var n=this._rowPlaceholder.viewContainer;t.forEachOperation(function(t,r,o){if(null==t.previousIndex)e._insertRow(e._data[o],o);else if(null==o)n.remove(r);else{var i=n.get(r);n.move(i,o)}}),this._updateRowContext()}},e.prototype._insertRow=function(e,t){var n=this._rowDefinitions.first,r={$implicit:e};this._rowPlaceholder.viewContainer.createEmbeddedView(n.template,r,t),(e?this._getCellTemplatesForRow(n):[]).forEach(function(e){m.mostRecentCellOutlet._viewContainer.createEmbeddedView(e.template,r)}),this._changeDetectorRef.markForCheck()},e.prototype._updateRowContext=function(){for(var e=this._rowPlaceholder.viewContainer,t=0,n=e.length;t<n;t++){var r=e.get(t);r.context.index=t,r.context.count=n,r.context.first=0===t,r.context.last=t===n-1,r.context.even=t%2==0,r.context.odd=!r.context.even}},e.prototype._getHeaderCellTemplatesForRow=function(e){var t=this;return e.columns?e.columns.map(function(e){var n=t._columnDefinitionsByName.get(e);if(!n)throw s(e);return n.headerCell}):[]},e.prototype._getCellTemplatesForRow=function(e){var t=this;return e.columns?e.columns.map(function(e){var n=t._columnDefinitionsByName.get(e);if(!n)throw s(e);return n.cell}):[]},e.decorators=[{type:t.Component,args:[{selector:"cdk-table",template:b,host:{class:"cdk-table"},encapsulation:t.ViewEncapsulation.None,preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:t.IterableDiffers},{type:t.ChangeDetectorRef},{type:t.ElementRef},{type:t.Renderer2},{type:void 0,decorators:[{type:t.Attribute,args:["role"]}]}]},e.propDecorators={trackBy:[{type:t.Input}],dataSource:[{type:t.Input}],_rowPlaceholder:[{type:t.ViewChild,args:[k]}],_headerRowPlaceholder:[{type:t.ViewChild,args:[R]}],_columnDefinitions:[{type:t.ContentChildren,args:[w]}],_headerDefinition:[{type:t.ContentChild,args:[h]}],_rowDefinitions:[{type:t.ContentChildren,args:[p]}]},e}(),S=[P,p,_,m,g,w,v,C,D,y,h,k,R],E=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],exports:[S],declarations:[S]}]}],e.ctorParameters=function(){return[]},e}();e.DataSource=a.DataSource,e.RowPlaceholder=k,e.HeaderRowPlaceholder=R,e.CDK_TABLE_TEMPLATE=b,e.CdkTable=P,e.CdkCellDef=_,e.CdkHeaderCellDef=g,e.CdkColumnDef=w,e.CdkHeaderCell=D,e.CdkCell=v,e.CDK_ROW_TEMPLATE=d,e.BaseRowDef=f,e.CdkHeaderRowDef=h,e.CdkRowDef=p,e.CdkCellOutlet=m,e.CdkHeaderRow=y,e.CdkRow=C,e.CdkTableModule=E,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=/home/travis/build/angular/material2/dist/bundles/cdk-table.umd.min.js.map